Este código serve para o calculo das resistencias R e Rf do circuito abaixo bem como o valor do V2. Este circuito é um comparador instrumental que tem a vantagem de ser muito preciso, com um ganho maior que amp-ops comuns, ter uma alta impedancia de entrada, isolando-o do restante circuito e ser mais imune a EMI. O codigo está feito para que, dependendo dos valores de entrada possiveis, o valor de output do amp-op instrumental não seja maior que 3.3V nem menor que 0V, podendo assim ser ligado diretamente a um microcontrolador, i.e. Teensy 4.1, sem ter de ser colocado um divisor de tensão. O valor de V1 é a tensão a medir e o valor de V2 é o valor que colocará o output nos valores esperados.
O codigo recorre apenas a resistencias da serie E12 e, ao testar todas as combinações, indica as resitencias mais adequadas para R e Rf de forma a aproximar o output ao valor maximo e minimo de tensao esperados. O valor das resistencias pode ser alterado pelo utilizador por motivos de, por exemplo, dissipação de energia, desde que a relação entre as resistencias se mantenha. Para o amplificador funcionar corretamente faltam, por ultimo, as resistencias R1 e R2, sendo que estas apenas têm de ter valor igual, podendo ter qualquer valor. O V2 também é calculado no codigo para ajustar o intervalo de output para 0 e 3.3V, dado que sem este valor o intervalo de output terá esta amplitude de valores mas terá um offset que poderá não permitir ligar o amplificador a nenhum microcontrolador.

Como usar:
As variaveis I, R_min, R_max e VCC servem para calcular o Vdrop maximo e minimo da resistencia em estudo e respetivo V1 maximo e minimo, sendo que a resistencia variavel está ligada ao VCC (fonte de tensão) e ligada ao amp-op pela outra perna. A variavel I é a corrente que percorre a resistencia. Se for mais facil apenas introduzir o intervalo de V1 as variaveis Vin_min e Vin_max devem ser alteradas para os valores pretendidos.
Se o valor de output maximo procurado nao for 3.3V a variavel Amp_max deve ser alterada para o valor pretendido.


![Amplificador instrumental](https://github.com/user-attachments/assets/522e8271-f3cc-4314-bcf7-a783573a0fe6)
